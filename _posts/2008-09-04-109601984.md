---
title: "OpenGL上的烟花[2]"
category: life
---

只能让贴下数据结构了

//////////////////////////////////////////////////////////////////////////

#define MAX_PARTICLES nbsp // 小烟花个数 

#define MAX_TAIL nbsp nbsp // 烟花尾部长度 

#define MAX_FIRE nbsp nbsp // 烟花总个数 

#define PI nbsp 3.1415926

#define COLOR_NUM nbsp 12

static GLfloat colors [COLOR_NUM nbsp // 彩虹颜色 

{

nbsp {1.0f,0.5f,0.5f},{1.0f,0.75f,0.5f},{1.0f,1.0f,0.5f},{0.75f,1.0f,0.5f},

nbsp {0.5f,1.0f,0.5f},{0.5f,1.0f,0.75f},{0.5f,1.0f,1.0f},{0.5f,0.75f,1.0f},

nbsp {0.5f,0.5f,1.0f},{0.75f,0.5f,1.0f},{1.0f,0.5f,1.0f},{1.0f,0.5f,0.75f}

};

GLfloat zoom nbsp // 视角远近 

typedef struct 

{

nbsp float x ,y ,z nbsp // 粒子位置 

}PARTICLE ;

typedef struct 

{

nbsp PARTICLE particles [MAX_TAIL ];

nbsp float xspeed ,yspeed ,zspeed nbsp // 粒子速度 

nbsp float xg ,yg ,zg nbsp // 加速度 

}TAIL ;

struct 

{

nbsp TAIL tails [MAX_PARTICLES ];

nbsp float r ,g ,b nbsp // 颜色 

nbsp GLfloat life nbsp // 生命 

nbsp GLfloat fade nbsp // 衰减速度 

nbsp GLfloat rad nbsp // xz 平面上的运动速度 

nbsp int style nbsp // 上升还是下降 

nbsp int count nbsp // 小烟花尾部点数 

}Fire [MAX_FIRE ];

//////////////////////////////////////////////////////////////////////////
